@base_moon_distance = 10
@distance = 50

# Precursors Story Pack
scfe_sless_system_1 = {
    class = rl_standard_stars
    usage = misc_system_init
    usage_odds = 0
    flags = { precursor_system shroud_storm_changed }
    prevent_anomalies = yes

    planet = {
        count = 1
        class = star
        orbit_distance = 0
        orbit_angle = 1
        size = { min = 20 max = 30 }
        has_ring = no
        init_effect = { add_deposit = d_energy_4 }
    }
    planet = {
        count = 1
        class = pc_molten
        orbit_distance = 20
        orbit_angle = { min = 90 max = 270 }
        size = 12
        has_ring = no
        init_effect = { add_deposit = d_volatile_motes_2 }
    }
    planet = {
        count = 1
        class = pc_toxic
        orbit_distance = 25
        orbit_angle = { min = 90 max = 270 }
        size = 15
        has_ring = no
        init_effect = { add_modifier = { modifier = toxic_terraforming_candidate days = -1 } }
    }
    planet = {
        count = 1
        class = pc_nuked
        orbit_distance = 30
        orbit_angle = { min = 90 max = 270 }
        size = 15
        has_ring = no
        flags = { precursor_world shroud_storm_changed }
        init_effect = {
            save_event_target_as = scfe_sless_colony_2
        }
    }
    planet = {
        count = 1
        class = pc_gas_giant
        orbit_distance = 50
        size = 40
        has_ring = yes
        init_effect = { add_deposit = d_physics_3 }
    }
    planet = {
        class = pc_barren_cold
        orbit_distance = 30
        size = 10
        has_ring = no
        init_effect = { add_deposit = d_minerals_3 }
    }
}
scfe_sless_system_2 = {
    class = rl_standard_stars
    usage = misc_system_init
    usage_odds = 0
    flags = { precursor_system shroud_storm_changed }
    prevent_anomalies = yes

    planet = {
        count = 1
        class = star
        orbit_distance = 0
        orbit_angle = 1
        size = { min = 20 max = 30 }
        has_ring = no
        init_effect = { add_deposit = d_energy_4 }
    }
    planet = {
        count = { min = 0 max = 2 }
        class = rl_unhabitable_planets
        orbit_distance = 25
        orbit_angle = { min = 90 max = 270 }
        size = { min = 7 max = 12 }
        has_ring = no
    }
    planet = {
        count = 1
        class = pc_nuked
        orbit_distance = 30
        orbit_angle = { min = 90 max = 270 }
        size = 14
        has_ring = no
        flags = { precursor_world shroud_storm_changed }
        init_effect = {
            save_event_target_as = scfe_sless_colony_3
        }
    }

}
scfe_sless_home_system = {
    name = "NAME_laeran"
    class = rl_standard_stars
    usage = misc_system_init
    usage_odds = 0
    flags = { scfe_sless_home_system precursor_system shroud_storm_changed }

    prevent_anomalies = yes

    planet = {
        name = "NAME_laeran"
        count = 1
        class = star
        orbit_distance = 0
        orbit_angle = 1
        size = { min = 20 max = 30 }
        has_ring = no
    }

    planet = {
        class = "pc_molten"
        orbit_distance = 65
        orbit_angle = 45
        size = 18
        has_ring = no
    }

    planet = {
        name = "NAME_laer"
        class = pc_nuked
        size = 25
        orbit_distance = 40
        flags = { precursor_world forbid_guillis_planet_modifier shroud_storm_changed }
        init_effect = {
            save_global_event_target_as = scfe_sless_home_planet
            create_archaeological_site = scfe_sless_alliance_site_4
            create_ambient_object = {
                type = "medium_debris_01_object" #covered in countless metal fragments, evidently of artificial structures
                entity_offset_height = -15
                location = this
            }
            last_created_ambient_object = {
                set_location = {
                    target = this
                    distance = 0
                    angle = random
                }
            }
            create_ambient_object = {
                type = "small_debris_object" #covered in countless metal fragments, evidently of artificial structures
                entity_offset_height = -14
                location = this
            }
            last_created_ambient_object = {
                set_location = {
                    target = this
                    distance = 0
                    angle = random
                }
            }
        }
        moon = {
            name = "NAME_laer_a"
            class = "pc_broken"
            size = 10
            orbit_distance = 10
            orbit_angle = 300
            has_ring = no

            init_effect = {
                clear_deposits = yes
                add_deposit = d_society_10
                add_deposit = d_society_10
                add_deposit = d_society_10
            }
        }
    }

    planet = {
        class = "pc_barren_cold"
        orbit_distance = 60
        orbit_angle = 45
        size = 15
        has_ring = no
    }

    planet = {
        class = "pc_gas_giant"
        orbit_distance = 70
        orbit_angle = 145
        size = 20
        has_ring = no

        moon = {
            class = "pc_frozen"
            size = 8
            orbit_distance = 12
            orbit_angle = 320
            has_ring = no
        }
    }
}
scfe_coprean_home_system = {
    name = "Name_magnificent"
    class = "rl_binary_stars"
    usage = misc_system_init
    usage_odds = 0
    flags = { scfe_coprean_home_system precursor_system shroud_storm_changed }
    prevent_anomalies = yes

    asteroid_belt = {
        type = rocky_asteroid_belt
        radius = 60
    }

    planet = {
        count = 1
        class = pc_g_star
        orbit_distance = 25
        orbit_angle = 0
        size = 35
        has_ring = no
    }

    planet = {
        count = 1
        class = pc_a_star
        orbit_distance = 0
        orbit_angle = 180
        size = 15
        has_ring = no
    }

    change_orbit = 45

    planet = {
        name = "Name_magnasanti"
        orbit_distance = 35
        class = pc_barren
        orbit_angle = { min = 90 max = 270 }
        size = 20
        deposit_blockers = none
        modifiers = none
        has_ring = no
        flags = { precursor_world forbid_guillis_planet_modifier shroud_storm_changed }

        change_orbit = @base_moon_distance

        init_effect = {
            save_global_event_target_as = scfe_coprean_home_planet
            create_archaeological_site = scfe_coprean_constitution_site_4
            set_planet_entity = { entity = "relic_world_01_entity" }
        }

        moon = {
            name = "Name_magnasanti_a"
            count = { min = 1 max = 1 }
            class = pc_barren
            size = 8
            orbit_angle = { min = 90 max = 270 }
            orbit_distance = 5
        }
    }

    planet = {
        count = 1
        orbit_distance = 50
        class = pc_gas_giant
        orbit_angle = { min = 90 max = 270 }

        change_orbit = @base_moon_distance

        moon = {
            count = 1
            class = random_non_colonizable
            orbit_angle = { min = 90 max = 270 }
            orbit_distance = 10
        }
    }

    planet = {
        count = 1
        orbit_distance = 65
        class = pc_gas_giant
        orbit_angle = { min = 90 max = 270 }

        change_orbit = @base_moon_distance

        moon = {
            count = 2
            class = random_non_colonizable
            orbit_angle = { min = 90 max = 270 }
            orbit_distance = 10
        }
    }
}
scfe_astanine_home_system = {
    name = "Name_astain"
    class = "rl_standard_stars"
    usage = misc_system_init
    usage_odds = 0
    flags = { has_habitat scfe_astanine_home_system precursor_system shroud_storm_changed }
    prevent_anomalies = yes

    asteroid_belt = {
        type = rocky_asteroid_belt
        radius = 95
    }

    planet = {
        count = 1
        class = star
        orbit_distance = 0
        orbit_angle = 1
        size = { min = 20 max = 30 }
        has_ring = no
    }

    change_orbit = 30

    planet = {
        class = pc_molten
        orbit_distance = 20
        orbit_angle = { min = 90 max = 270 }
    }

    planet = {
        class = pc_toxic
        orbit_distance = 20
        orbit_angle = { min = 90 max = 270 }
    }

    planet = {
        name = "Name_astania"
        orbit_distance = 45
        class = pc_barren
        orbit_angle = 140
        size = 20
        deposit_blockers = none
        modifiers = none
        has_ring = no
        flags = { precursor_world forbid_guillis_planet_modifier shroud_storm_changed }

        init_effect = {
            save_global_event_target_as = scfe_astanine_home_planet
            create_archaeological_site = scfe_astanine_site_5
            add_deposit = d_physics_10
            add_deposit = d_physics_10
            add_deposit = d_physics_10
        }
    }

    change_orbit = 35

    init_effect = {
        spawn_megastructure = {
            type = mega_art_installation_ruined
            planet = this.star
            orbit_distance = 8
        }
    }

    planet = {
        count = 1
        orbit_distance = 35
        orbit_angle = 270
        class = pc_barren_cold
        flags = { has_megastructure forbid_guillis_planet_modifiers shroud_storm_changed }

        init_effect = {
            clear_deposits = yes
            add_deposit = d_energy_5
            add_deposit = d_physics_10
            add_deposit = d_trade_value_5
        }

        planet = {
            class = "pc_habitat"
            size = 12
            flags = { megastructure habitat advanced_habitat advanced_habitat_2 habitat_level_2 forbid_guillis_planet_modifiers energy_habitat research_habitat commercial_habitat }
            init_effect = {
                set_name = "Name_new_astania"
                add_district = district_hab_housing
                add_district = district_hab_housing
                add_deposit = d_orbital_research
                add_deposit = d_orbital_energy
                add_deposit = d_orbital_mining
            }
        }

        change_orbit = @base_moon_distance
        moon = {
            orbit_angle = { min = 90 max = 270 }
            orbit_distance = 3
            class = random_non_colonizable
            size = 12
        }
    }
}

# Strange Worlds
strange_init_01 = {
    class = "rl_standard_stars"
    flags = { strange_world_system shroud_storm_changed }
    usage = misc_system_init
    usage_odds = 0

    planet = {
        count = 1
        class = star
        orbit_distance = 0
        orbit_angle = 1
        size = { min = 20 max = 30 }
        has_ring = no
    }

    change_orbit = 20

    planet = {
        orbit_distance = 20
        count = { min = 0 max = 3 }
    }

    change_orbit = 20

    planet = {
        count = 1
        orbit_distance = 0
        class = "pc_ocean"
        orbit_angle = { min = 90 max = 270 }
        size = { min = 22 max = 22 }
        flags = { cant_terraform_planet pf_koeleothan_world wp_pfe_ignore_planet_flag forbid_guillis_planet_modifiers suppress_archaeological_sites shroud_storm_changed }

        anomaly = "scfe_koeleothan_world_category"

        init_effect = {
            add_deposit = d_koeleothan
        }
    }
}
strange_init_02 = {
    class = "rl_standard_stars"
    flags = { strange_world_system shroud_storm_changed }
    usage = misc_system_init
    usage_odds = 0

    planet = {
        count = 1
        class = star
        orbit_distance = 0
        orbit_angle = 1
        size = { min = 20 max = 30 }
        has_ring = no
    }

    change_orbit = 20

    planet = {
        orbit_distance = 20
        count = { min = 0 max = 3 }
    }

    change_orbit = 20

    planet = {
        count = 1
        orbit_distance = 0
        class = "pc_desert"
        orbit_angle = { min = 90 max = 270 }
        size = { min = 18 max = 18 }
        flags = { cant_terraform_planet pf_quantumpearl_world wp_pfe_ignore_planet_flag forbid_guillis_planet_modifiers suppress_archaeological_sites shroud_storm_changed }

        anomaly = "scfe_quantumpearl_world_category"

        init_effect = {
            add_deposit = d_quantumpearl
        }
    }
}
strange_init_03 = {
    class = "rl_standard_stars"
    flags = { strange_world_system shroud_storm_changed }
    usage = misc_system_init
    usage_odds = 0

    planet = {
        count = 1
        class = star
        orbit_distance = 0
        orbit_angle = 1
        size = { min = 20 max = 30 }
        has_ring = no
    }

    change_orbit = 20

    planet = {
        orbit_distance = 20
        count = { min = 0 max = 3 }
    }

    change_orbit = 20

    planet = {
        count = 1
        orbit_distance = 0
        class = "pc_gaia"
        orbit_angle = { min = 90 max = 270 }
        size = { min = 14 max = 20 }
        flags = { cant_terraform_planet pf_woorskyr_world wp_pfe_ignore_planet_flag forbid_guillis_planet_modifiers suppress_archaeological_sites shroud_storm_changed }
        anomaly = "scfe_woorskyr_world_category"

        init_effect = {
            add_modifier = {
                modifier = "scfe_woorskyr_tree_network"
                days = -1
            }
            add_deposit = d_woorskyr_hub
        }
    }
}
strange_init_04 = {
    class = "rl_standard_stars"
    flags = { strange_world_system shroud_storm_changed }
    usage = misc_system_init
    usage_odds = 0

    planet = {
        count = 1
        class = star
        orbit_distance = 0
        orbit_angle = 1
        size = { min = 20 max = 30 }
        has_ring = no
    }

    change_orbit = 20

    planet = {
        orbit_distance = 20
        count = { min = 0 max = 3 }
    }

    change_orbit = 20

    planet = {
        count = 1
        orbit_distance = 0
        class = "pc_tundra"
        orbit_angle = { min = 90 max = 270 }
        size = { min = 14 max = 20 }
        flags = { cant_terraform_planet pf_xenograss_world wp_pfe_ignore_planet_flag forbid_guillis_planet_modifiers suppress_archaeological_sites shroud_storm_changed }
        anomaly = "scfe_xenograss_world_category"

        init_effect = {
            add_deposit = d_xenograss
        }
    }
}
strange_init_05 = {
    class = "rl_standard_stars"
    flags = { strange_world_system shroud_storm_changed }
    usage = misc_system_init
    usage_odds = 0

    planet = {
        count = 1
        class = star
        orbit_distance = 0
        orbit_angle = 1
        size = { min = 20 max = 30 }
        has_ring = no
    }

    change_orbit = 20

    planet = {
        orbit_distance = 20
        count = { min = 0 max = 3 }
    }

    change_orbit = 20

    planet = {
        count = 1
        orbit_distance = 0
        class = "pc_tropical"
        orbit_angle = { min = 90 max = 270 }
        size = { min = 16 max = 22 }
        flags = { cant_terraform_planet pf_beetle_world wp_pfe_ignore_planet_flag forbid_guillis_planet_modifiers suppress_archaeological_sites shroud_storm_changed }
        anomaly = "scfe_beetle_world_category"

        init_effect = {
            add_deposit = d_beetle_swarm
        }
    }
}

# Shaded Empire
shaded_lead1_system = {
    name = scfe_shaded_clue1_system_name
    flags = { scfe_shaded_lead1 precursor_system shroud_storm_changed }
    class = "sc_m_giant"
    asteroid_belt = {
        type = rocky_asteroid_belt
        radius = 90
    }

    usage = misc_system_init
    usage_odds = 0
    max_instances = 1
    prevent_anomalies = yes

    init_effect = {
        save_global_event_target_as = scfe_shaded_lead1
    }

    planet = {
        count = 1
        class = star
        orbit_distance = 0
        size = { min = 20 max = 30 }
    }
    planet = {
        orbit_distance = 40
        count = 1
        class = rl_unhabitable_planets
        has_ring = no
    }
    planet = {
        class = "pc_asteroid"
        orbit_distance = 50
        orbit_angle = -210
        size = 6
        has_ring = no
        anomaly = none
        flags = { shroud_storm_changed }
        init_effect = {
            save_global_event_target_as = scfe_shaded_asteroid_lead1
        }
    }
    planet = {
        class = "pc_asteroid"
        orbit_distance = 0
        orbit_angle = -95
        size = 5
        has_ring = no
    }
    planet = {
        class = "pc_gas_giant"
        orbit_distance = 50
        orbit_angle = 0
        size = 20
        has_ring = yes
    }
}
shaded_lead2_system = {
    name = scfe_shaded_clue2_system_name
    flags = { scfe_shaded_lead2 precursor_system shroud_storm_changed }
    class = "sc_m"

    usage = misc_system_init
    usage_odds = 0
    max_instances = 1
    prevent_anomalies = yes

    init_effect = {
        save_global_event_target_as = scfe_shaded_lead2
        spawn_megastructure = {
            type = "habitat_central_complex_ruined"
            planet = event_target:scfe_shaded_habitat_planet
            init_effect = {
                save_global_event_target_as = scfe_shaded_habitat_lead2
                create_ambient_object = {
                    type = "large_debris_object"
                    location = this
                }
                last_created_ambient_object = {
                    set_location = {
                        target = prev
                        distance = 20
                        angle = 20
                    }
                }
                create_ambient_object = {
                    type = "large_debris_object"
                    location = this
                }
                last_created_ambient_object = {
                    set_location = {
                        target = prev
                        distance = 20
                        angle = 150
                    }
                }
                create_ambient_object = {
                    type = "medium_debris_01_object"
                    location = this
                }
                last_created_ambient_object = {
                    set_location = {
                        target = prev
                        distance = 35
                        angle = 90
                    }
                }
                create_ambient_object = {
                    type = "medium_debris_02_object"
                    location = this
                }
                last_created_ambient_object = {
                    set_location = {
                        target = prev
                        distance = 3
                        angle = 270
                    }
                }
            }
        }
    }

    planet = {
        count = 1
        class = star
        orbit_distance = 0
        size = { min = 20 max = 30 }
    }
    planet = {
        orbit_distance = 20
        count = 1
        class = pc_molten
        has_ring = no
    }
    planet = {
        orbit_distance = 25
        count = 1
        class = pc_barren
        has_ring = no
    }
    planet = {
        orbit_distance = 50
        count = 1
        class = pc_gas_giant
        init_effect = {
            save_event_target_as = scfe_shaded_habitat_planet
        }
    }
    planet = {
        orbit_distance = 25
        count = 1
        class = pc_barren_cold
    }

}
shaded_lead3_system = {
    name = scfe_shaded_clue3_system_name
    flags = { scfe_shaded_lead3 precursor_system shroud_storm_changed }
    class = "sc_g"

    usage = misc_system_init
    usage_odds = 0
    max_instances = 1
    prevent_anomalies = yes

    init_effect = {
        save_global_event_target_as = scfe_shaded_lead3
    }

    planet = {
        count = 1
        class = star
        orbit_distance = 0
        size = { min = 20 max = 30 }
    }
    planet = {
        count = { min = 1 max = 2 }
        orbit_distance = 25
        size = { min = 7 max = 12 }
        class = rl_unhabitable_planets
    }
    planet = {
        count = 1
        orbit_distance = 30
        size = 17
        class = rl_habitable_normal
        flags = { shroud_storm_changed }
        init_effect = {
            save_global_event_target_as = scfe_shaded_colony_lead3
            add_modifier = { modifier = scfe_infrastructure }
        }
    }
    planet = {
        count = 1
        orbit_distance = 50
        size = 22
        class = pc_gas_giant
        has_ring = yes
    }
}
shaded_lead4_system = {
    name = scfe_shaded_clue4_system_name
    flags = { scfe_shaded_lead4 precursor_system shroud_storm_changed }
    class = "sc_a"

    usage = misc_system_init
    usage_odds = 0
    max_instances = 1
    prevent_anomalies = yes

    init_effect = {
        save_global_event_target_as = scfe_shaded_lead4
        create_turbulent_nebula_1 = yes
    }

    planet = {
        count = 1
        class = star
        orbit_distance = 0
        size = 30
        init_effect = {
            save_global_event_target_as = scfe_shaded_star_lead4
            create_ambient_object = {
                type = scfe_precursor_cargo_01_amb
                scale = 2
                entity_offset_height = 5
                location = this
            }
            create_ambient_object = {
                type = small_debris_object
                scale = 1
                entity_offset_height = 5
                location = this
            }
            create_ambient_object = {
                type = scfe_toxoid_science_ship_amb
                scale = 0.75
                entity_offset_height = 6
                location = this
                effect = { set_ambient_object_flag = scfe_shaded_toxoid_amb }
            }
        }
    }
}
shaded_colony_system = {
    name = scfe_saaldryn
    flags = { scfe_shaded_colony_system crisis_spawn_exclude precursor_system shroud_storm_changed }
    class = "sc_m"

    usage = misc_system_init
    usage_odds = 0
    max_instances = 1
    prevent_anomalies = yes

    init_effect = {
        create_turbulent_nebula_2 = yes
    }

    planet = {
        count = 1
        class = star
        orbit_distance = 0
        orbit_angle = 1
        size = { min = 20 max = 30 }
    }

    change_orbit = 50

    planet = {
        name = scfe_asdrylia
        count = 1
        orbit_distance = 0
        class = "pc_gaia"
        orbit_angle = { min = 90 max = 270 }
        size = { min = 20 max = 25 }
        has_ring = no
        flags = { shroud_storm_changed }

        init_effect = {
            set_planet_flag = scfe_shaded_colony
            set_planet_flag = wp_pfe_ignore_planet_flag
            set_planet_flag = forbid_guillis_planet_modifiers
            set_planet_flag = suppress_archaeological_sites
            add_modifier = { modifier = scfe_infrastructure days = -1 }
            add_modifier = { modifier = natural_beauty days = -1 }
            add_deposit = d_central_spire
            save_global_event_target_as = scfe_shaded_colony
        }
    }
}
# Znkar
scfe_znkar_init_01 = {
    class = "rl_standard_stars"
    name = scfe_znkar_kamva
    flags = { precursor_system shroud_storm_changed }
    usage = misc_system_init
    usage_odds = 0
    max_instances = 1
    prevent_anomalies = yes

    planet = {
        name = scfe_znkar_kamva
        count = 1
        class = star
        orbit_distance = 0
        orbit_angle = 1
        size = { min = 20 max = 30 }
    }
    planet = {
        orbit_distance = 45
        count = { min = 1 max = 2 }
        class = rl_unhabitable_planets
        init_effect = {
            clear_deposits = yes
            add_deposit = d_engineering_10
            add_deposit = d_engineering_10
        }
    }
    planet = {
        name = scfe_znkar_pakrta
        count = 1
        orbit_distance = 20
        class = "pc_nuked"
        has_ring = no
        orbit_angle = { min = 90 max = 270 }
        size = { min = 12 max = 20 }
        anomaly = none
        flags = { wp_pfe_ignore_planet_flag forbid_guillis_planet_modifiers scfe_znkar_nuked shroud_storm_changed }

        init_effect = {
            create_point_of_interest = { event_chain = scfe_znkar_chain id = scfe_znkar_nuked name = scfe_znkar_pakrta location = this }
            save_global_event_target_as = scfe_znkar_nuked
            enable_special_project = {
                name = SCFE_ZNKAR_NUKED_PROJECT
                location = this
                owner = event_target:znkar_start_country
            }
            clear_planet_modifiers = yes
            clear_deposits = yes
        }

        moon = {
            name = scfe_znkar_dantiy
            count = 1
            class = "pc_barren"
            orbit_distance = 12
            size = { min = 6 max = 8 }
            has_ring = no
            orbit_angle = { min = 90 max = 270 }
            anomaly = none
            flags = { wp_pfe_ignore_planet_flag forbid_guillis_planet_modifiers scfe_znkar_nuked_moon shroud_storm_changed }

            init_effect = {
                save_global_event_target_as = scfe_znkar_nuked_moon
                clear_deposits = yes
                clear_planet_modifiers = yes
            }
        }
    }
}
scfe_znkar_init_02 = {
    class = "rl_standard_stars"
    name = scfe_znkar_wur_den_kaar
    flags = { precursor_system shroud_storm_changed scfe_wur_den_kaar }
    usage = misc_system_init
    usage_odds = 0
    max_instances = 1
    prevent_anomalies = yes

    planet = {
        name = scfe_znkar_wur_den_kaar
        count = 1
        class = star
        orbit_distance = 0
        orbit_angle = 1
        size = { min = 20 max = 30 }
    }
    planet = {
        class = rl_unhabitable_planets
        count = 1
        orbit_distance = 25
        orbit_angle = { min = 90 max = 270 }
        has_ring = no
        init_effect = { add_deposit = d_engineering_3 }
    }
    planet = {
        name = scfe_znkar_kaar_da_kruun
        class = pc_broken
        orbit_distance = 40
        count = 1
        size = 20
        orbit_angle = { min = 90 max = 270 }
        has_ring = no
        flags = { shroud_storm_changed precursor_world }
        init_effect = {
            create_point_of_interest = { event_chain = scfe_znkar_chain id = scfe_znkar_broken name = scfe_znkar_kaar_da_kruun location = this }
            save_global_event_target_as = scfe_znkar_broken
            create_ambient_object = {
                type = small_debris_object
                scale = 1
                entity_offset_height = 5
                location = this
            }
        }
    }
    planet = {
        class = rl_unhabitable_planets
        orbit_distance = 25
        count = { min = 1 max = 2 }
        size = { min = 8 max = 14 }
        orbit_angle = { min = 90 max = 270 }
        has_ring = no
    }
}
# A Celestial Disturbance
scfe_celestial_disturbance_system = {
    class = sc_scfe_binary_1 # The primary star, a neutron star
    flags = { scfe_celestial_disturbance_system precursor_system scfe_ai_avoid_system shroud_storm_changed }
    name = scfe_celestial_disturbance_system_name

    usage = misc_system_init
    usage_odds = 0
    max_instances = 1
    prevent_anomalies = yes
    init_effect = {
        save_global_event_target_as = scfe_celestial_disturbance_system
    }

    planet = {
        count = 1
        class = pc_g_star
        orbit_distance = 25
        orbit_angle = 0
        size = 25
        has_ring = no
        anomaly = none
        flags = { scfe_celestial_disturbance_sun shroud_storm_changed }
        init_effect = {
            clear_deposits = yes
            clear_planet_modifiers = yes
        }
    }

    planet = {
        count = 1
        class = pc_neutron_star
        orbit_distance = 0
        size = 8
        has_ring = no
        anomaly = none
        flags = { scfe_celestial_disturbance_neutron shroud_storm_changed }
        init_effect = {
            clear_deposits = yes
            clear_planet_modifiers = yes
        }
    }

    change_orbit = 15

    planet = {
        count = 1
        class = pc_molten
        has_ring = no
        size = { min = 10 max = 14 }
        orbit_distance = 20
        orbit_angle = { min = 90 max = 270 }
        anomaly = none
        flags = { scfe_celestial_disturbance_molten shroud_storm_changed }
        init_effect = {
            clear_deposits = yes
            clear_planet_modifiers = yes
        }
    }

    change_orbit = 40

    planet = {
        count = 1
        class = pc_gas_giant
        has_ring = yes
        size = 25
        orbit_distance = 60
        orbit_angle = { min = 90 max = 270 }
        anomaly = none
        flags = { scfe_celestial_disturbance_gas shroud_storm_changed }
        init_effect = {
            clear_deposits = yes
        }

        change_orbit = @base_moon_distance

        moon = {
            count = 1
            class = pc_barren
            size = 6
            orbit_angle = { min = 90 max = 270 }
            orbit_distance = 6
            anomaly = none
            flags = { scfe_celestial_disturbance_barren shroud_storm_changed }
            init_effect = {
                clear_deposits = yes
                clear_planet_modifiers = yes
            }
        }
    }

    change_orbit = 25

    planet = {
        count = 1
        orbit_distance = 10
        class = pc_frozen
        size = 17
        orbit_angle = { min = 90 max = 270 }
        anomaly = none
        name = scfe_celestial_disturbance_home_name
        flags = { wp_pfe_ignore_planet_flag forbid_guillis_planet_modifiers scfe_celestial_disturbance_homeworld shroud_storm_changed }

        init_effect = {
            clear_deposits = yes
            clear_planet_modifiers = yes
            save_global_event_target_as = scfe_celestial_disturbance_homeworld
            create_ambient_object = {
                type = scfe_astral_scar
                scale = 0.2
                entity_offset_height = 5
                location = this
            }
            last_created_ambient_object = {
                save_global_event_target_as = scfe_celestial_disturbance_astral_scar
                set_location = {
                    target = prev
                }
            }
        }

        change_orbit = @base_moon_distance

        moon = {
            count = 1
            class = pc_barren_cold
            size = 5
            orbit_angle = { min = 90 max = 270 }
            anomaly = none
            name = scfe_celestial_disturbance_home_moon_name
            orbit_distance = 6
            flags = { scfe_celestial_disturbance_moon shroud_storm_changed }
            init_effect = {
                clear_deposits = yes
                clear_planet_modifiers = yes
            }
        }
    }
}
# Alshigans
scfe_alshigans_init_01 = {
    class = "rl_standard_stars"
    flags = { precursor_system shroud_storm_changed }
    usage = misc_system_init
    usage_odds = 0
    max_instances = 1
    prevent_anomalies = yes

    planet = {
        count = 1
        class = star
        orbit_distance = 0
        orbit_angle = 1
        size = { min = 20 max = 30 }
        init_effect = {
            add_deposit = d_energy_4
        }
    }

    change_orbit = 30

    planet = {
        orbit_distance = 15
        count = 1
        class = rl_unhabitable_planets
        anomaly = none
        init_effect = {
            add_deposit = d_minerals_3
        }
    }

    change_orbit = 25

    planet = {
        name = scfe_alshigans_velaen
        count = 1
        orbit_distance = 0
        class = "pc_savannah"
        has_ring = no
        orbit_angle = { min = 90 max = 270 }
        size = { min = 12 max = 20 }
        anomaly = none
        flags = { forbid_guillis_planet_modifiers shroud_storm_changed }

        init_effect = {
            create_point_of_interest = { event_chain = scfe_alshigans_chain id = scfe_alshigans_savannah name = scfe_alshigans_velaen location = this }
            save_global_event_target_as = scfe_alshigans_savannah
            enable_special_project = {
                name = SCFE_ALSHIGANS_SAVANNAH_PROJECT
                location = this
                owner = event_target:scfe_alshigans_owner
            }
            add_modifier = { modifier = scfe_savannah_ruins days = -1 }
            add_modifier = { modifier = scfe_infrastructure days = -1 }
        }

        moon = {
            count = 1
            class = "pc_barren"
            orbit_distance = 12
            size = { min = 6 max = 8 }
            has_ring = no
            orbit_angle = { min = 90 max = 270 }
            anomaly = none
        }
    }

    change_orbit = 25

    planet = {
        class = pc_gas_giant
        orbit_distance = 0
        size = { min = 25 max = 35 }
        has_ring = yes
        orbit_angle = { min = 90 max = 270 }
        anomaly = none

        init_effect = {
            add_deposit = d_exotic_gases_2
        }
    }
}
scfe_alshigans_init_02 = {
    class = "rl_standard_stars"
    flags = { precursor_system shroud_storm_changed }
    usage = misc_system_init
    usage_odds = 0
    max_instances = 1
    prevent_anomalies = yes

    planet = {
        count = 1
        class = star
        orbit_distance = 0
        orbit_angle = 1
        size = { min = 20 max = 30 }
        init_effect = {
            add_deposit = d_physics_4
        }
    }

    change_orbit = 25

    planet = {
        orbit_distance = 0
        count = 1
        class = rl_unhabitable_planets
        anomaly = none
        init_effect = {
            add_deposit = d_rare_crystals_2
        }
    }
    change_orbit = 15

    planet = {
        orbit_distance = 0
        count = 1
        class = rl_unhabitable_planets
        anomaly = none
        init_effect = {
            add_deposit = d_minerals_2
        }
    }

    change_orbit = 25

    planet = {
        name = scfe_alshigans_uuladir
        count = 1
        orbit_distance = 0
        class = "pc_alpine"
        has_ring = no
        orbit_angle = { min = 90 max = 270 }
        size = { min = 12 max = 20 }
        flags = { forbid_guillis_planet_modifiers shroud_storm_changed }

        init_effect = {
            create_point_of_interest = { event_chain = scfe_alshigans_chain id = scfe_alshigans_alpine name = scfe_alshigans_uuladir location = this }
            save_global_event_target_as = scfe_alshigans_alpine
            enable_special_project = {
                name = SCFE_ALSHIGANS_ALPINE_PROJECT
                location = this
                owner = event_target:scfe_alshigans_owner
            }
            add_modifier = { modifier = scfe_alpine_ruins days = -1 }
            add_modifier = { modifier = scfe_infrastructure days = -1 }
        }
        moon = {
            count = 1
            orbit_distance = @base_moon_distance
            class = pc_barren
            orbit_angle = { min = 90 max = 270 }
            size = 6
            flags = { forbid_guillis_planet_modifiers shroud_storm_changed }
            init_effect = {
                clear_deposits = yes
                add_deposit = d_engineering_10
                add_deposit = d_engineering_10
            }
        }
    }

    change_orbit = 20

    planet = {
        class = pc_barren_cold
        orbit_distance = 0
        has_ring = no
        orbit_angle = { min = 90 max = 270 }
        anomaly = none

        init_effect = {
            add_deposit = d_physics_3
        }
    }
}
scfe_alshigans_init_03 = {
    class = "rl_standard_stars"
    flags = { precursor_system shroud_storm_changed }
    usage = misc_system_init
    usage_odds = 0
    max_instances = 1
    prevent_anomalies = yes

    planet = {
        count = 1
        class = star
        orbit_distance = 0
        orbit_angle = 1
        size = { min = 20 max = 30 }
        init_effect = {
            add_deposit = d_energy_3
        }
    }

    change_orbit = 15

    planet = {
        orbit_distance = 0
        count = 1
        class = pc_molten
        anomaly = none
    }
    change_orbit = 15

    planet = {
        orbit_distance = 0
        count = 1
        class = pc_barren
        anomaly = none
        init_effect = { add_deposit = d_volatile_motes_2 }
    }
    change_orbit = 15
    planet = {
        orbit_distance = 0
        count = 1
        class = rl_unhabitable_planets
        anomaly = none
        init_effect = {
            add_deposit = d_minerals_2
        }
    }

    change_orbit = 25

    planet = {
        name = scfe_alshigans_demearen
        count = 1
        orbit_distance = 0
        class = "pc_tropical"
        has_ring = no
        orbit_angle = { min = 90 max = 270 }
        size = { min = 12 max = 20 }
        anomaly = none
        flags = { forbid_guillis_planet_modifiers shroud_storm_changed }

        init_effect = {
            create_point_of_interest = { event_chain = scfe_alshigans_chain id = scfe_alshigans_jungle name = scfe_alshigans_demearen location = this }
            save_global_event_target_as = scfe_alshigans_jungle
            enable_special_project = {
                name = SCFE_ALSHIGANS_JUNGLE_PROJECT
                location = this
                owner = event_target:scfe_alshigans_owner
            }
            add_modifier = { modifier = scfe_jungle_ruins days = -1 }
            add_modifier = { modifier = scfe_infrastructure days = -1 }
        }
    }

    change_orbit = 25

    planet = {
        class = pc_barren_cold
        orbit_distance = 0
        has_ring = no
        orbit_angle = { min = 90 max = 270 }
        anomaly = none

        init_effect = {
            add_deposit = d_engineering_3
        }
    }
}
# Ghosts
scfe_ghost_system_01 = {
    class = sc_g
    usage = misc_system_init
    usage_odds = 0
    max_instances = 1
    prevent_anomalies = yes
    flags = { scfe_ghost_system_01 precursor_system scfe_ai_avoid_system shroud_storm_changed }
    name = scfe_ghost_izanami
    init_effect = { save_global_event_target_as = scfe_ghost_system1 }

    asteroid_belt = {
        type = rocky_asteroid_belt
        radius = 100
    }

    planet = {
        count = 1
        class = star
        orbit_distance = 0
        orbit_angle = 1
        size = { min = 20 max = 30 }
        init_effect = {
            add_deposit = d_energy_4
        }
    }
    planet = {
        orbit_distance = 40
        count = 1
        class = pc_barren
        anomaly = none
        flags = { scfe_ghost_planet_mining shroud_storm_changed }
    }
    planet = {
        name = scfe_ghost_bchania
        count = 1
        orbit_distance = 30
        class = "pc_relic"
        has_ring = no
        orbit_angle = { min = 90 max = 270 }
        size = { min = 12 max = 20 }
        anomaly = none
        flags = { scfe_ghost_planet forbid_guillis_planet_modifier shroud_storm_changed }
        init_effect = { save_global_event_target_as = scfe_ghost_planet1 }
    }
    planet = {
        count = 1
        orbit_distance = 70
        class = pc_gas_giant
        has_ring = yes
        orbit_angle = { min = 90 max = 270 }
        size = { min = 20 max = 30 }
        anomaly = none
        init_effect = { add_deposit = d_exotic_gases_2 }
    }
}
scfe_ghost_system_02 = {
    class = sc_scfe_empty_space
    usage = misc_system_init
    usage_odds = 0
    max_instances = 1
    prevent_anomalies = yes
    flags = { scfe_ghost_system_02 precursor_system shroud_storm_changed }
    init_effect = { save_global_event_target_as = scfe_ghost_system2 }

    planet = {
        count = 1
        class = star
        orbit_distance = 0
        orbit_angle = 1
        size = 20
        anomaly = none
        flags = { scfe_ghost_void shroud_storm_changed }
        init_effect = { clear_deposits = yes }
    }
    planet = {
        orbit_distance = 35
        count = 1
        class = pc_barren_cold
        anomaly = none
        init_effect = { add_deposit = d_rare_crystals_2 }
    }
    planet = {
        orbit_distance = 30
        count = 1
        class = pc_barren_cold
        anomaly = none
    }
    planet = {
        name = scfe_ghost_dtarren
        count = 1
        orbit_distance = 40
        class = "pc_frozen"
        has_ring = no
        orbit_angle = { min = 90 max = 270 }
        size = { min = 16 max = 20 }
        anomaly = none
        flags = { scfe_ghost_planet2 forbid_guillis_planet_modifier shroud_storm_changed }
        init_effect = { save_global_event_target_as = scfe_ghost_planet2 }
    }
}
scfe_ghost_system_03 = {
    class = sc_scfe_empty_space
    usage = misc_system_init
    usage_odds = 0
    max_instances = 1
    prevent_anomalies = yes
    flags = { scfe_ghost_system_03 precursor_system shroud_storm_changed }
    init_effect = { save_global_event_target_as = scfe_ghost_system3 }

    asteroid_belt = {
        type = icy_asteroid_belt
        radius = 120
    }

    planet = {
        count = 1
        class = star
        orbit_distance = 0
        orbit_angle = 1
        size = 20
        anomaly = none
        flags = { scfe_ghost_void shroud_storm_changed }
        init_effect = { clear_deposits = yes }
    }
    planet = {
        count = 1
        orbit_distance = 60
        class = "pc_gas_giant"
        has_ring = no
        orbit_angle = { min = 90 max = 270 }
        size = 30
        anomaly = none
        moon = {
            name = scfe_ghost_kraatdaan
            class = "pc_broken"
            size = 10
            orbit_distance = 10
            orbit_angle = 300
            has_ring = no
            flags = { scfe_ghost_planet3 forbid_guillis_planet_modifier shroud_storm_changed }
            init_effect = {
                save_global_event_target_as = scfe_ghost_planet3
                clear_deposits = yes
                add_deposit = d_physics_10
                add_deposit = d_physics_10
            }
        }
    }
}
# Nyblax
scfe_hyrokkin = {
    name = scfe_hyrokkin
    class = "sc_pulsar"
    usage = misc_system_init
    usage_odds = 0
    max_instances = 1
    flags = { arcane_rune_system precursor_system shroud_storm_changed }
    prevent_anomalies = yes

    planet = {
        name = scfe_hyrokkin
        class = "pc_pulsar"
        orbit_distance = 0
        orbit_angle = 1
        size = 45
        has_ring = no
    }

    planet = {
        name = scfe_moxxu
        class = "pc_shrouded"
        orbit_distance = 75
        orbit_angle = { min = 90 max = 270 }
        size = 15
        has_ring = no
        modifiers = none
        flags = { forbid_guillis_planet_modifiers shroud_storm_changed }
        init_effect = {
            clear_deposits = yes
            create_archaeological_site = scfe_ghastly_eyrie_site
        }
    }
}
scfe_khnum = {
    name = scfe_khnum
    class = "sc_black_hole"
    usage = misc_system_init
    usage_odds = 0
    max_instances = 1
    flags = { damage_rune_system precursor_system shroud_storm_changed }
    prevent_anomalies = yes

    planet = {
        name = scfe_khnum
        class = "pc_black_hole"
        orbit_distance = 0
        orbit_angle = 1
        size = 35
        has_ring = no
    }

    planet = {
        name = scfe_byoti
        class = "pc_broken"
        orbit_distance = 75
        orbit_angle = { min = 90 max = 270 }
        size = 10
        has_ring = no
        modifiers = none
    }
    planet = {
        name = scfe_vorcia
        class = "pc_broken"
        orbit_distance = 35
        orbit_angle = { min = 90 max = 270 }
        size = 14
        has_ring = no
        modifiers = none
    }
    planet = {
        name = scfe_tharkun
        class = "pc_broken"
        orbit_distance = 35
        orbit_angle = { min = 90 max = 270 }
        size = 22
        has_ring = no
        modifiers = none
        flags = { forbid_guillis_planet_modifiers shroud_storm_changed }
        init_effect = {
            clear_deposits = yes
            relic_world_deposits = yes
            create_archaeological_site = scfe_techis_site
        }
    }
}
scfe_severing_lash = {
	name = scfe_severing_lash
	class = "sc_neutron_star"
	usage = misc_system_init
	usage_odds = 0
	max_instances = 1
	flags = { haste_rune_system precursor_system shroud_storm_changed }
    prevent_anomalies = yes

	planet = {
		name = scfe_severing_lash
		class = "pc_neutron_star"
		orbit_distance = 0
		orbit_angle = 1
		size = 15
		has_ring = no
	}

	planet = {
		name = scfe_ninsun
		class = "pc_relic"
		orbit_distance = 120
		orbit_angle = { min = 90 max = 270 }
		size = 17
		has_ring = no
		modifiers = none
        flags = { forbid_guillis_planet_modifiers shroud_storm_changed }
		init_effect = {
			create_archaeological_site = scfe_narrow_maze_site
		}
	}
}
scfe_kikimora = {
	name = scfe_kikimora
	class = "sc_b"
	usage = misc_system_init
	usage_odds = 0
	max_instances = 1
	flags = { regeneration_rune_system precursor_system shroud_storm_changed }
	prevent_anomalies = yes

	planet = {
		name = scfe_kikimora
		class = "pc_b_star"
		orbit_distance = 0
		orbit_angle = 1
		size = 25
		has_ring = no
	}

	planet = {
		name = scfe_qresh
		class = "pc_molten"
		orbit_distance = 50
		orbit_angle = { min = 90 max = 270 }
		size = 11
		has_ring = no
        moon = {
			name = scfe_aman
			class = "pc_barren"
			size = 6
			orbit_distance = 8
			orbit_angle = 320
			has_ring = yes
		}
		
		moon = {
			name = scfe_mcholou
			class = "pc_infested"
			size = 10
			orbit_distance = 12
			orbit_angle = 150
			has_ring = no
            flags = { forbid_guillis_planet_modifiers shroud_storm_changed }
            init_effect = {
                clear_deposits = yes
                create_archaeological_site = scfe_quad_site
            }
		}
		moon = {
			name = scfe_dracia
			class = "pc_frozen"
			size = 6
			orbit_distance = 4
			orbit_angle = 320
			has_ring = no
		}
	}
}
scfe_mireska = {
	name = scfe_mireska
	class = "sc_black_hole"
	usage = misc_system_init
	usage_odds = 0
	max_instances = 1
	flags = { illusion_rune_system precursor_system shroud_storm_changed }
	prevent_anomalies = yes

	planet = {
		name = scfe_mireska
		class = "pc_black_hole"
		orbit_distance = 0
		orbit_angle = 1
		size = 35
		has_ring = no
	}

	planet = {
		name = scfe_jex
		class = "pc_gaia"
		orbit_distance = 75
		orbit_angle = { min = 90 max = 270 }
		size = 13
		has_ring = yes
		modifiers = none
        flags = { forbid_guillis_planet_modifiers shroud_storm_changed }
		init_effect = {
			clear_deposits = yes
			create_archaeological_site = scfe_jex_site
		}
	}
}
scfe_tahlin = {
	name = scfe_tahlin
	class = "sc_g"
	usage = misc_system_init
	usage_odds = 0
	max_instances = 1
	flags = { invisibility_rune_system precursor_system shroud_storm_changed }
	prevent_anomalies = yes

	planet = {
		name = scfe_tahlin
		class = "pc_g_star"
		orbit_distance = 0
		orbit_angle = 1
		size = 35
		has_ring = no
	}
	
	planet = {
		name = scfe_meandrus
		class = "pc_molten"
		orbit_distance = 75
		orbit_angle = { min = 90 max = 270 }
		size = 24
		has_ring = yes
		change_orbit = 5
		modifiers = none
	}
	planet = {
		name = scfe_deani
		class = "pc_barren"
		orbit_distance = 35
		orbit_angle = { min = 90 max = 270 }
		size = 18
		has_ring = no
		modifiers = none
        flags = { forbid_guillis_planet_modifiers shroud_storm_changed }
		init_effect = {
			clear_deposits = yes
			create_archaeological_site = scfe_riki_site
            create_ambient_object = {
                type = scfe_abandoned_invisible_observation_outpost
                scale = 0.25
            }
            last_created_ambient_object = {
                set_location = {
                    target = prev
                    distance = 0
                }
            }
        }
	}
    planet = {
		name = scfe_ahemait
		class = "pc_ocean"
		orbit_distance = 35
		orbit_angle = { min = 90 max = 270 }
		size = 17
		has_ring = no
		modifiers = none
	}
	planet = {
		name = scfe_jasper
		class = "pc_gas_giant"
		orbit_distance = 35
		orbit_angle = { min = 90 max = 270 }
		size = 30
		change_orbit = 8
		has_ring = yes
		change_orbit = 5
		modifiers = none
		moon = {
			name = scfe_jasper_circle
			class = "pc_molten"
			orbit_distance = 12
			orbit_angle = { min = 90 max = 270 }
			size = 10
			modifiers = none
		}
	}
	planet = {
		name = scfe_syke
		class = "pc_frozen"
		orbit_distance = 35
		orbit_angle = { min = 90 max = 270 }
		size = 22
		has_ring = no
		modifiers = none
	}
}
